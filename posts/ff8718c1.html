<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Python调试之IPython工具, Escape Escpae&#39;s Python Linux Bug Linnux运维之路 Python成长笔记 Web进击之旅 Bug解决之道 文所未闻 音乐墙 关于我">
    <meta name="description" content="听摇滚,但不偏颇;也挺古典,但不安逸">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Python调试之IPython工具 | Escape</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Escape" type="application/atom+xml">

<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Escape</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Escape</div>
        <div class="logo-desc">
            
            听摇滚,但不偏颇;也挺古典,但不安逸
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/EscapeLife" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/EscapeLife" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/images/python-ipython.png')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Python调试之IPython工具</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Python/">
                                <span class="chip bg-color">Python</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Python%E5%85%A5%E9%97%A8%E5%9F%BA%E7%A1%80/" class="post-category">
                                Python入门基础
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2018-06-26
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2020-12-08
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    2.9k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    13 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <blockquote>
<p><code>Python</code>工程师需要快速验证代码的运行结果是否符合预期，最为方便的做法就是使用<code>Python</code>自带的交互式解释器，但是因为其有很多弊端，所以<code>IPython</code>就是不二的选择了。</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://ipython.org/documentation.html">IPython 的官方文档地址</a></li>
<li><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/51467397">使用 IPython 有哪些好处</a></li>
</ul>
</blockquote>
<p><img src="/images/python-ipython.png" alt="Python调试之IPython工具"></p>
<hr>
<ul>
<li><strong>自带 Python 解释器的弊端</strong><ul>
<li>不能在退出时保存历史记录以备未来查询</li>
<li>不支持<code>Tab</code>自动补全，其实是可以支持的</li>
<li>不方便在交互式环境下执行<code>Shell</code>命令</li>
<li>不能快速获得模块、函数、类、文档、原始代码信息</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 使自带的Python解释器支持Tab自动补全</span>
<span class="token punctuation">[</span>escape@localhost <span class="token operator">~</span><span class="token punctuation">]</span>$ python
Python <span class="token number">3.6</span><span class="token punctuation">.</span><span class="token number">4</span> <span class="token punctuation">(</span>default<span class="token punctuation">,</span> Mar <span class="token number">28</span> <span class="token number">2018</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">:</span><span class="token number">01</span><span class="token punctuation">:</span><span class="token number">18</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>GCC <span class="token number">4.2</span><span class="token punctuation">.</span><span class="token number">1</span> Compatible Apple LLVM <span class="token number">9.0</span><span class="token punctuation">.</span><span class="token number">0</span> <span class="token punctuation">(</span>clang<span class="token number">-900.0</span><span class="token punctuation">.</span><span class="token number">39.2</span><span class="token punctuation">)</span><span class="token punctuation">]</span> on darwin
Type <span class="token string">"help"</span><span class="token punctuation">,</span> <span class="token string">"copyright"</span><span class="token punctuation">,</span> <span class="token string">"credits"</span> <span class="token operator">or</span> <span class="token string">"license"</span> <span class="token keyword">for</span> more information<span class="token punctuation">.</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> rlcompleter<span class="token punctuation">,</span> readline
<span class="token operator">>></span><span class="token operator">></span> readline<span class="token punctuation">.</span>parse_and_bind<span class="token punctuation">(</span><span class="token string">'tab: complete'</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><p><strong>IPython 提供的常用功能</strong></p>
<ul>
<li>强大的交互式<code>shell</code>命令</li>
<li>基于浏览器的<code>notebook</code>支持代码、文字、数学表达式、内嵌图和其他丰富的媒体</li>
<li>支持交互式数据可视化的和<code>GUI</code>工具包的使用</li>
<li>灵活的、可嵌入的解释器方便加入到自己的项目</li>
<li>支持并行计算的简单易用、高性能的工具</li>
</ul>
</li>
<li><p><strong>常用 Magic 函数</strong></p>
</li>
</ul>
<table>
<thead>
<tr>
<th>常用 Magic 函数</th>
<th>解释说明</th>
</tr>
</thead>
<tbody><tr>
<td><strong><code>%hist</code></strong></td>
<td>查看历史记录</td>
</tr>
<tr>
<td><strong><code>%save</code></strong></td>
<td>把某些历史记录保存到文件中</td>
</tr>
<tr>
<td><strong><code>%pwd</code></strong></td>
<td>显示当前位置</td>
</tr>
<tr>
<td><strong><code>%timeit</code></strong></td>
<td>获得程序执行时间</td>
</tr>
<tr>
<td><strong><code>%rehashx</code></strong></td>
<td>把<code>$PATH</code>中的可执行命令都更新进别名系统，这样就可以不加感叹号调用</td>
</tr>
<tr>
<td><strong><code>%debug</code></strong></td>
<td>激活交互的调试器</td>
</tr>
<tr>
<td><strong><code>%edit</code></strong></td>
<td>使用编辑器打开，但需要设定<code>EDITOR</code>这个环境变量</td>
</tr>
<tr>
<td><strong><code>%run</code></strong></td>
<td>执行引入的模块</td>
</tr>
<tr>
<td><strong><code>%load</code></strong></td>
<td>把外部代码加载进来</td>
</tr>
<tr>
<td><strong><code>%macro</code></strong></td>
<td>把历史记录、文件等封装为宏，以便未来重新执行</td>
</tr>
<tr>
<td><strong><code>%alias</code></strong></td>
<td>设置命令别名</td>
</tr>
<tr>
<td><strong><code>%bookmark</code></strong></td>
<td>设置书签</td>
</tr>
<tr>
<td><strong><code>%store</code></strong></td>
<td>存储设置的命令别名</td>
</tr>
<tr>
<td><strong><code>%logstart/%logoff</code></strong></td>
<td>记录会话或日志记录，退出后还可以回到之前的状态</td>
</tr>
</tbody></table>
<ul>
<li><strong>IPython 提供的 magic 函数</strong><ul>
<li>新版本的<code>IPython</code>可以不添加<code>%</code>符号，因为系统自己设置<code>automagic</code>为<code>ON</code>，表示系统自动添加<code>magic</code>符号。</li>
<li>这里我们只重点介绍<code>line magics</code>，而<code>cell magics</code>请自行查看官方文档说明。</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-python"><code class="language-python">In <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token operator">%</span>lsmagic
Out<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
<span class="token comment" spellcheck="true"># line magics: %x</span>
<span class="token comment" spellcheck="true"># 主要涉及一些功能的命令</span>
<span class="token operator">%</span>alias  <span class="token operator">%</span>alias_magic  <span class="token operator">%</span>autocall  <span class="token operator">%</span>autoindent  <span class="token operator">%</span>automagic  <span class="token operator">%</span>bookmark  <span class="token operator">%</span>cat  <span class="token operator">%</span>cd
<span class="token operator">%</span>clear  <span class="token operator">%</span>colors  <span class="token operator">%</span>config  <span class="token operator">%</span>cp  <span class="token operator">%</span>cpaste  <span class="token operator">%</span>debug  <span class="token operator">%</span>dhist  <span class="token operator">%</span>dirs  <span class="token operator">%</span>doctest_mode
<span class="token operator">%</span>ed  <span class="token operator">%</span>edit  <span class="token operator">%</span>env  <span class="token operator">%</span>gui  <span class="token operator">%</span>hist  <span class="token operator">%</span>history  <span class="token operator">%</span>killbgscripts  <span class="token operator">%</span>ldir  <span class="token operator">%</span>less  <span class="token operator">%</span>lf  <span class="token operator">%</span>lk
<span class="token operator">%</span>ll  <span class="token operator">%</span>load  <span class="token operator">%</span>load_ext  <span class="token operator">%</span>loadpy  <span class="token operator">%</span>logoff  <span class="token operator">%</span>logon  <span class="token operator">%</span>logstart  <span class="token operator">%</span>logstate  <span class="token operator">%</span>logstop
<span class="token operator">%</span>ls  <span class="token operator">%</span>lsmagic  <span class="token operator">%</span>lx  <span class="token operator">%</span>macro  <span class="token operator">%</span>magic  <span class="token operator">%</span>man  <span class="token operator">%</span>matplotlib  <span class="token operator">%</span>mkdir  <span class="token operator">%</span>more  <span class="token operator">%</span>mv
<span class="token operator">%</span>notebook  <span class="token operator">%</span>page  <span class="token operator">%</span>paste  <span class="token operator">%</span>pastebin  <span class="token operator">%</span>pdb  <span class="token operator">%</span>pdef  <span class="token operator">%</span>pdoc  <span class="token operator">%</span>pfile  <span class="token operator">%</span>pinfo  <span class="token operator">%</span>pinfo2
<span class="token operator">%</span>popd  <span class="token operator">%</span>pprint  <span class="token operator">%</span>precision  <span class="token operator">%</span>profile  <span class="token operator">%</span>prun  <span class="token operator">%</span>psearch  <span class="token operator">%</span>psource  <span class="token operator">%</span>pushd  <span class="token operator">%</span>pwd
<span class="token operator">%</span>pycat  <span class="token operator">%</span>pylab  <span class="token operator">%</span>quickref  <span class="token operator">%</span>recall  <span class="token operator">%</span>rehashx  <span class="token operator">%</span>reload_ext  <span class="token operator">%</span>rep  <span class="token operator">%</span>rerun  <span class="token operator">%</span>reset
<span class="token operator">%</span>reset_selective  <span class="token operator">%</span>rm  <span class="token operator">%</span>rmdir  <span class="token operator">%</span>run  <span class="token operator">%</span>save  <span class="token operator">%</span>sc  <span class="token operator">%</span>set_env  <span class="token operator">%</span>store  <span class="token operator">%</span>sx  <span class="token operator">%</span>system
<span class="token operator">%</span>tb  <span class="token operator">%</span>time  <span class="token operator">%</span>timeit  <span class="token operator">%</span>unalias  <span class="token operator">%</span>unload_ext  <span class="token operator">%</span>who  <span class="token operator">%</span>who_ls  <span class="token operator">%</span>whos  <span class="token operator">%</span>xdel  <span class="token operator">%</span>xmode

<span class="token comment" spellcheck="true"># cell magics: %%xx</span>
<span class="token comment" spellcheck="true"># 主要是渲染ipython notebook页面效果以及执行某语言的代码</span>
<span class="token operator">%</span><span class="token operator">%</span>!  <span class="token operator">%</span><span class="token operator">%</span>HTML  <span class="token operator">%</span><span class="token operator">%</span>SVG  <span class="token operator">%</span><span class="token operator">%</span>bash  <span class="token operator">%</span><span class="token operator">%</span>capture  <span class="token operator">%</span><span class="token operator">%</span>debug  <span class="token operator">%</span><span class="token operator">%</span>file  <span class="token operator">%</span><span class="token operator">%</span>html  <span class="token operator">%</span><span class="token operator">%</span>javascript  <span class="token operator">%</span><span class="token operator">%</span>js
<span class="token operator">%</span><span class="token operator">%</span>latex  <span class="token operator">%</span><span class="token operator">%</span>markdown  <span class="token operator">%</span><span class="token operator">%</span>perl  <span class="token operator">%</span><span class="token operator">%</span>prun  <span class="token operator">%</span><span class="token operator">%</span>pypy  <span class="token operator">%</span><span class="token operator">%</span>python  <span class="token operator">%</span><span class="token operator">%</span>python2  <span class="token operator">%</span><span class="token operator">%</span>python3
<span class="token operator">%</span><span class="token operator">%</span>ruby  <span class="token operator">%</span><span class="token operator">%</span>script  <span class="token operator">%</span><span class="token operator">%</span>sh  <span class="token operator">%</span><span class="token operator">%</span>svg  <span class="token operator">%</span><span class="token operator">%</span>sx  <span class="token operator">%</span><span class="token operator">%</span>system  <span class="token operator">%</span><span class="token operator">%</span>time  <span class="token operator">%</span><span class="token operator">%</span>timeit  <span class="token operator">%</span><span class="token operator">%</span>writefile

Automagic <span class="token keyword">is</span> ON<span class="token punctuation">,</span> <span class="token operator">%</span> prefix IS NOT needed <span class="token keyword">for</span> line magics<span class="token punctuation">.</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">In <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">:</span> automagic
Automagic <span class="token keyword">is</span> OFF<span class="token punctuation">,</span> <span class="token operator">%</span> prefix IS needed <span class="token keyword">for</span> line magics<span class="token punctuation">.</span>

In <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token operator">%</span>automagic
Automagic <span class="token keyword">is</span> ON<span class="token punctuation">,</span> <span class="token operator">%</span> prefix IS NOT needed <span class="token keyword">for</span> line magics<span class="token punctuation">.</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># line magic</span>
In <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token operator">%</span>time <span class="token number">2</span><span class="token operator">**</span><span class="token number">128</span>
CPU times<span class="token punctuation">:</span> user <span class="token number">2</span> µs<span class="token punctuation">,</span> sys<span class="token punctuation">:</span> <span class="token number">1</span> µs<span class="token punctuation">,</span> total<span class="token punctuation">:</span> <span class="token number">3</span> µs
Wall time<span class="token punctuation">:</span> <span class="token number">5.01</span> µs
Out<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> 340282366920938463463374607431768211456L

<span class="token comment" spellcheck="true"># cell magic</span>
In <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token operator">%</span><span class="token operator">%</span>ruby
   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span> p <span class="token string">"hello"</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span>
      <span class="token string">"hello"</span>

<span class="token comment" spellcheck="true"># line and cell magic</span>
In <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token operator">%</span><span class="token operator">%</span>time
   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token operator">**</span><span class="token number">128</span>
   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span>
   CPU times<span class="token punctuation">:</span> user <span class="token number">4</span> µs<span class="token punctuation">,</span> sys<span class="token punctuation">:</span> <span class="token number">0</span> ns<span class="token punctuation">,</span> total<span class="token punctuation">:</span> <span class="token number">4</span> µs
   Wall time<span class="token punctuation">:</span> <span class="token number">9.06</span> µs
   Out<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">:</span> 340282366920938463463374607431768211456L
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h2 id="1-配置解释器"><a href="#1-配置解释器" class="headerlink" title="1. 配置解释器"></a>1. 配置解释器</h2><ul>
<li><strong>修改配置文件过程</strong></li>
</ul>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 在用户家目录下的默认没有IPython的配置文件</span>
<span class="token punctuation">[</span>escape@localhost <span class="token operator">~</span><span class="token punctuation">]</span>$ ll <span class="token operator">/</span>Users<span class="token operator">/</span>escape<span class="token operator">/</span><span class="token punctuation">.</span>ipython<span class="token operator">/</span>profile_default<span class="token operator">/</span>
total <span class="token number">256</span>
drwxr<span class="token operator">-</span>xr<span class="token operator">-</span>x  <span class="token number">5</span> escape  staff    <span class="token number">160</span>  <span class="token number">6</span> <span class="token number">27</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">22</span> db<span class="token operator">/</span>
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">-</span><span class="token operator">-</span>r<span class="token operator">-</span><span class="token operator">-</span>  <span class="token number">1</span> escape  staff  <span class="token number">77824</span>  <span class="token number">6</span> <span class="token number">27</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">47</span> history<span class="token punctuation">.</span>sqlite
drwxr<span class="token operator">-</span>xr<span class="token operator">-</span>x  <span class="token number">2</span> escape  staff     <span class="token number">64</span>  <span class="token number">3</span> <span class="token number">24</span> <span class="token number">19</span><span class="token punctuation">:</span><span class="token number">57</span> log<span class="token operator">/</span>
drwx<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>  <span class="token number">2</span> escape  staff     <span class="token number">64</span>  <span class="token number">3</span> <span class="token number">24</span> <span class="token number">19</span><span class="token punctuation">:</span><span class="token number">57</span> pid<span class="token operator">/</span>
drwx<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>  <span class="token number">2</span> escape  staff     <span class="token number">64</span>  <span class="token number">3</span> <span class="token number">24</span> <span class="token number">19</span><span class="token punctuation">:</span><span class="token number">57</span> security<span class="token operator">/</span>
drwxr<span class="token operator">-</span>xr<span class="token operator">-</span>x  <span class="token number">3</span> escape  staff     <span class="token number">96</span>  <span class="token number">3</span> <span class="token number">24</span> <span class="token number">19</span><span class="token punctuation">:</span><span class="token number">57</span> startup<span class="token operator">/</span>

<span class="token comment" spellcheck="true"># 创建IPython的配置文件</span>
<span class="token punctuation">[</span>escape@localhost <span class="token operator">~</span><span class="token punctuation">]</span>$ ipython profile create
<span class="token punctuation">[</span>ProfileCreate<span class="token punctuation">]</span> Generating default config file<span class="token punctuation">:</span> <span class="token string">'/Users/escape/.ipython/profile_default/ipython_config.py'</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 配置IPython参数</span>
<span class="token punctuation">[</span>escape@localhost <span class="token operator">~</span><span class="token punctuation">]</span>$ vim <span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">.</span>ipython<span class="token operator">/</span>profile_default<span class="token operator">/</span>ipython_config<span class="token punctuation">.</span>py
<span class="token comment" spellcheck="true"># 用于自动重载配置的宏、变量、别名等，无需使用store -r命令</span>
c<span class="token punctuation">.</span>StoreMagics<span class="token punctuation">.</span>autorestore <span class="token operator">=</span> <span class="token boolean">True</span>
<span class="token comment" spellcheck="true"># 用于自动重载文件，不用我们退出IPython再进入了</span>
c<span class="token punctuation">.</span>InteractiveShellApp<span class="token punctuation">.</span>exec_lines <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'%autoreload 2'</span><span class="token punctuation">]</span>
c<span class="token punctuation">.</span>InteractiveShellApp<span class="token punctuation">.</span>extensions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'autoreload'</span><span class="token punctuation">]</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><strong>storemagic</strong><ul>
<li>可以持久化宏、变量和别名</li>
</ul>
</li>
<li><strong>autoreload</strong><ul>
<li>可以让我们不退出 IPython 就动态修改代码</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># storemagic</span>
<span class="token comment" spellcheck="true"># 保存之后重新打开依旧可以使用</span>
In <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
In <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span> store l
Stored <span class="token string">'l'</span> <span class="token punctuation">(</span>list<span class="token punctuation">)</span>
In <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span> exit<span class="token punctuation">(</span><span class="token punctuation">)</span>

In <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> l
Out<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># autoreload</span>
<span class="token comment" spellcheck="true"># 重新编辑对于的文件，修改输出</span>
In <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token keyword">from</span> test <span class="token keyword">import</span> run

In <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span> run<span class="token punctuation">(</span><span class="token punctuation">)</span>
Out<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token number">1</span>

In <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token operator">%</span>edit test<span class="token punctuation">.</span>py
Editing<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> done<span class="token punctuation">.</span> Executing edited code<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

In <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">:</span> run<span class="token punctuation">(</span><span class="token punctuation">)</span>
Out<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token number">2</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h2 id="2-Tab-自动补全"><a href="#2-Tab-自动补全" class="headerlink" title="2. Tab 自动补全"></a>2. Tab 自动补全</h2><ul>
<li><code>IPython</code>可以自动检查对象的属性，通过<code>object_name.&lt;TAB&gt;</code>列出全部的子属性，再次使用<code>Tab</code>切换到对于的属性上，输入输出即可选中。</li>
</ul>
<p><img src="/images/python-ipython1.png" alt="python-ipyton"></p>
<p><img src="/images/python-ipython2.png" alt="python-ipyton"></p>
<hr>
<h2 id="3-获取对象信息"><a href="#3-获取对象信息" class="headerlink" title="3. 获取对象信息"></a>3. 获取对象信息</h2><ul>
<li>在想要查看的对象后面加上一个问号，只显示对象的签名、文档字符串及代码文件的位置信息</li>
<li>在想要查看的对象后面加上两个问号，可以直接显示源代码信息，这样节省时间搜索对于代码</li>
</ul>
<pre class="line-numbers language-python"><code class="language-python">In <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token keyword">import</span> os<span class="token punctuation">.</span>path

<span class="token comment" spellcheck="true"># 对象后面加上一个问号</span>
In <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span> os<span class="token punctuation">.</span>path?
Type<span class="token punctuation">:</span>        module
String form<span class="token punctuation">:</span> <span class="token operator">&lt;</span>module <span class="token string">'posixpath'</span> <span class="token keyword">from</span> <span class="token string">'/Users/escape/.pyenv/versions/3.6.4/lib/python3.6/posixpath.py'</span><span class="token operator">></span>
File<span class="token punctuation">:</span>        <span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">.</span>pyenv<span class="token operator">/</span>versions<span class="token operator">/</span><span class="token number">3.6</span><span class="token punctuation">.</span><span class="token number">4</span><span class="token operator">/</span>lib<span class="token operator">/</span>python3<span class="token number">.6</span><span class="token operator">/</span>posixpath<span class="token punctuation">.</span>py
Docstring<span class="token punctuation">:</span>
Common operations on Posix pathnames<span class="token punctuation">.</span>

Instead of importing this module directly<span class="token punctuation">,</span> <span class="token keyword">import</span> os <span class="token operator">and</span> refer to
this module <span class="token keyword">as</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>  The <span class="token string">"os.path"</span> name <span class="token keyword">is</span> an alias <span class="token keyword">for</span> this
module on Posix systems<span class="token punctuation">;</span> on other systems <span class="token punctuation">(</span>e<span class="token punctuation">.</span>g<span class="token punctuation">.</span> Mac<span class="token punctuation">,</span> Windows<span class="token punctuation">)</span><span class="token punctuation">,</span>
os<span class="token punctuation">.</span>path provides the same operations <span class="token keyword">in</span> a manner specific to that
platform<span class="token punctuation">,</span> <span class="token operator">and</span> <span class="token keyword">is</span> an alias to another module <span class="token punctuation">(</span>e<span class="token punctuation">.</span>g<span class="token punctuation">.</span> macpath<span class="token punctuation">,</span> ntpath<span class="token punctuation">)</span><span class="token punctuation">.</span>

Some of this can actually be useful on non<span class="token operator">-</span>Posix systems too<span class="token punctuation">,</span> e<span class="token punctuation">.</span>g<span class="token punctuation">.</span>
<span class="token keyword">for</span> manipulation of the pathname component of URLs<span class="token punctuation">.</span>

<span class="token comment" spellcheck="true"># 对象后面加上两个问号</span>
In <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span> os<span class="token punctuation">.</span>path??
Type<span class="token punctuation">:</span>        module
String form<span class="token punctuation">:</span> <span class="token operator">&lt;</span>module <span class="token string">'posixpath'</span> <span class="token keyword">from</span> <span class="token string">'/Users/escape/.pyenv/versions/3.6.4/lib/python3.6/posixpath.py'</span><span class="token operator">></span>
File<span class="token punctuation">:</span>        <span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">.</span>pyenv<span class="token operator">/</span>versions<span class="token operator">/</span><span class="token number">3.6</span><span class="token punctuation">.</span><span class="token number">4</span><span class="token operator">/</span>lib<span class="token operator">/</span>python3<span class="token number">.6</span><span class="token operator">/</span>posixpath<span class="token punctuation">.</span>py
Source<span class="token punctuation">:</span>
<span class="token triple-quoted-string string">"""Common operations on Posix pathnames.

Instead of importing this module directly, import os and refer to
this module as os.path.  The "os.path" name is an alias for this
module on Posix systems; on other systems (e.g. Mac, Windows),
os.path provides the same operations in a manner specific to that
platform, and is an alias to another module (e.g. macpath, ntpath).

Some of this can actually be useful on non-Posix systems too, e.g.
for manipulation of the pathname component of URLs.
"""</span>

<span class="token keyword">import</span> os
<span class="token keyword">import</span> sys
<span class="token keyword">import</span> stat
<span class="token keyword">import</span> genericpath
<span class="token keyword">from</span> genericpath <span class="token keyword">import</span> <span class="token operator">*</span>

__all__ <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"normcase"</span><span class="token punctuation">,</span><span class="token string">"isabs"</span><span class="token punctuation">,</span><span class="token string">"join"</span><span class="token punctuation">,</span><span class="token string">"splitdrive"</span><span class="token punctuation">,</span><span class="token string">"split"</span><span class="token punctuation">,</span><span class="token string">"splitext"</span><span class="token punctuation">,</span>
           <span class="token string">"basename"</span><span class="token punctuation">,</span><span class="token string">"dirname"</span><span class="token punctuation">,</span><span class="token string">"commonprefix"</span><span class="token punctuation">,</span><span class="token string">"getsize"</span><span class="token punctuation">,</span><span class="token string">"getmtime"</span><span class="token punctuation">,</span>
           <span class="token string">"getatime"</span><span class="token punctuation">,</span><span class="token string">"getctime"</span><span class="token punctuation">,</span><span class="token string">"islink"</span><span class="token punctuation">,</span><span class="token string">"exists"</span><span class="token punctuation">,</span><span class="token string">"lexists"</span><span class="token punctuation">,</span><span class="token string">"isdir"</span><span class="token punctuation">,</span><span class="token string">"isfile"</span><span class="token punctuation">,</span>
           <span class="token string">"ismount"</span><span class="token punctuation">,</span> <span class="token string">"expanduser"</span><span class="token punctuation">,</span><span class="token string">"expandvars"</span><span class="token punctuation">,</span><span class="token string">"normpath"</span><span class="token punctuation">,</span><span class="token string">"abspath"</span><span class="token punctuation">,</span>
           <span class="token string">"samefile"</span><span class="token punctuation">,</span><span class="token string">"sameopenfile"</span><span class="token punctuation">,</span><span class="token string">"samestat"</span><span class="token punctuation">,</span>
           <span class="token string">"curdir"</span><span class="token punctuation">,</span><span class="token string">"pardir"</span><span class="token punctuation">,</span><span class="token string">"sep"</span><span class="token punctuation">,</span><span class="token string">"pathsep"</span><span class="token punctuation">,</span><span class="token string">"defpath"</span><span class="token punctuation">,</span><span class="token string">"altsep"</span><span class="token punctuation">,</span><span class="token string">"extsep"</span><span class="token punctuation">,</span>
           <span class="token string">"devnull"</span><span class="token punctuation">,</span><span class="token string">"realpath"</span><span class="token punctuation">,</span><span class="token string">"supports_unicode_filenames"</span><span class="token punctuation">,</span><span class="token string">"relpath"</span><span class="token punctuation">,</span>
           <span class="token string">"commonpath"</span><span class="token punctuation">]</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h2 id="4-调用系统命令"><a href="#4-调用系统命令" class="headerlink" title="4. 调用系统命令"></a>4. 调用系统命令</h2><ul>
<li><code>IPython</code>在<code>line magics</code>中定义了一些常见的<code>Shell</code>命令可供使用，但是其他的命令则需要通过添加<code>!</code>使用</li>
<li>可以通过<code>IPython</code>自带的<code>%rehashx</code>函数，重载系统<code>Shell</code>命令，之后就无需在添加<code>!</code>符号了</li>
</ul>
<pre class="line-numbers language-python"><code class="language-python">In <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> ls
__pycache__<span class="token operator">/</span>             delete_server_log<span class="token punctuation">.</span>py<span class="token operator">*</span>    jumpserver_on_docker<span class="token punctuation">.</span>sh<span class="token operator">*</span> test<span class="token punctuation">.</span>py                  update_chis<span class="token punctuation">.</span>sh<span class="token operator">*</span>

In <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span> ll
total <span class="token number">32</span>
drwxr<span class="token operator">-</span>xr<span class="token operator">-</span>x  <span class="token number">3</span> escape  staff    <span class="token number">96</span>  <span class="token number">6</span> <span class="token number">26</span> <span class="token number">21</span><span class="token punctuation">:</span><span class="token number">33</span> __pycache__<span class="token operator">/</span>
<span class="token operator">-</span>rwxr<span class="token operator">-</span><span class="token operator">-</span>r<span class="token operator">-</span><span class="token operator">-</span>  <span class="token number">1</span> escape  staff     <span class="token number">0</span>  <span class="token number">6</span> <span class="token number">19</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">01</span> delete_server_log<span class="token punctuation">.</span>py<span class="token operator">*</span>
<span class="token operator">-</span>rwxr<span class="token operator">-</span><span class="token operator">-</span>r<span class="token operator">-</span><span class="token operator">-</span>@ <span class="token number">1</span> escape  staff  <span class="token number">6854</span>  <span class="token number">5</span> <span class="token number">27</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">57</span> jumpserver_on_docker<span class="token punctuation">.</span>sh<span class="token operator">*</span>
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">-</span><span class="token operator">-</span>r<span class="token operator">-</span><span class="token operator">-</span>  <span class="token number">1</span> escape  staff    <span class="token number">17</span>  <span class="token number">6</span> <span class="token number">27</span> <span class="token number">09</span><span class="token punctuation">:</span><span class="token number">50</span> test<span class="token punctuation">.</span>py
<span class="token operator">-</span>rwxrwxrwx  <span class="token number">1</span> escape  staff   <span class="token number">128</span>  <span class="token number">5</span> <span class="token number">25</span> <span class="token number">15</span><span class="token punctuation">:</span><span class="token number">40</span> update_chis<span class="token punctuation">.</span>sh<span class="token operator">*</span>

In <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span> !uptime
<span class="token number">10</span><span class="token punctuation">:</span><span class="token number">31</span>  up <span class="token number">14</span> days<span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">:</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">2</span> users<span class="token punctuation">,</span> load averages<span class="token punctuation">:</span> <span class="token number">2.70</span> <span class="token number">2.88</span> <span class="token number">2.97</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">In <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token operator">%</span>rehashx

In <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">:</span> uptime
<span class="token number">10</span><span class="token punctuation">:</span><span class="token number">31</span>  up <span class="token number">14</span> days<span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">:</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">2</span> users<span class="token punctuation">,</span> load averages<span class="token punctuation">:</span> <span class="token number">2.63</span> <span class="token number">2.86</span> <span class="token number">2.96</span>

In <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">:</span> date
<span class="token number">2018</span>年 <span class="token number">6</span>月<span class="token number">28</span>日 星期三 <span class="token number">10</span>时<span class="token number">31</span>分<span class="token number">46</span>秒 CST
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h2 id="5-查看历史记录"><a href="#5-查看历史记录" class="headerlink" title="5. 查看历史记录"></a>5. 查看历史记录</h2><ul>
<li><code>IPython</code>把输入的历史记录存储在个人设置目录下的<code>history.sqlit</code>文件中，并且可以结合<code>%rerun</code>、<code>%macro</code>、<code>%save</code>等<code>magic</code>函数一起使用。</li>
<li>尤为重要的是，它将最近的三次执行记录绑定在<code>_</code>、<code>__</code>和<code>___</code>这三个变量上了。搜索历史记录是，可以使用<code>ctrl+r</code>、<code>ctrl+n</code>、<code>ctrl+p</code>等快捷键操作。</li>
</ul>
<pre class="line-numbers language-python"><code class="language-python">In <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> a <span class="token operator">=</span> <span class="token number">1</span>

In <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span> b <span class="token operator">=</span> <span class="token number">2</span>

<span class="token comment" spellcheck="true"># 打印出历史记录</span>
In <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span> hist
<span class="token number">1</span><span class="token punctuation">:</span> a <span class="token operator">=</span> <span class="token number">1</span>
<span class="token number">2</span><span class="token punctuation">:</span> b <span class="token operator">=</span> <span class="token number">2</span>

<span class="token comment" spellcheck="true"># 掉历史记录中的序号</span>
In <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">:</span> hist <span class="token operator">-</span>n
a <span class="token operator">=</span> <span class="token number">1</span>
b <span class="token operator">=</span> <span class="token number">2</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h2 id="6-edit-编辑文件"><a href="#6-edit-编辑文件" class="headerlink" title="6. edit 编辑文件"></a>6. edit 编辑文件</h2><ul>
<li><code>edit</code>魔术方法可以在命令行中直接编辑也可以编辑对于文件</li>
</ul>
<pre class="line-numbers language-python"><code class="language-python">In <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> a <span class="token operator">=</span> <span class="token number">1</span>

In <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span> b <span class="token operator">=</span> <span class="token number">2</span>

In <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span> c <span class="token operator">=</span> <span class="token number">3</span>

In <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">:</span> edit <span class="token number">2</span><span class="token punctuation">:</span><span class="token number">3</span>
IPython will make a temporary file named<span class="token punctuation">:</span> <span class="token operator">/</span>var<span class="token operator">/</span>folders<span class="token operator">/</span>5h<span class="token operator">/</span>v75wkmc16_v0l9lj36_78qk80000gn<span class="token operator">/</span>T<span class="token operator">/</span>ipython_edit_kqrqbsp8<span class="token operator">/</span>ipython_edit_6orujval<span class="token punctuation">.</span>py
Editing<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> done<span class="token punctuation">.</span> Executing edited code<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
Out<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token string">'b = 4\n'</span>

In <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">:</span> b
Out<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token number">4</span>

In <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">:</span> edit note<span class="token punctuation">.</span>py
Editing<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> done<span class="token punctuation">.</span>

In <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">:</span> run note<span class="token punctuation">.</span>py

In <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">:</span> l
Out<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">:</span> range<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h2 id="7-设置命令别名"><a href="#7-设置命令别名" class="headerlink" title="7. 设置命令别名"></a>7. 设置命令别名</h2><ul>
<li>设置命令别名使用<code>alias</code>命令</li>
<li>设置的别名可以存储起来，不然重启<code>IPython</code>的时候就无法再使用了</li>
</ul>
<pre class="line-numbers language-python"><code class="language-python">In <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> alias largest ls <span class="token operator">-</span>1sSh <span class="token operator">|</span> grep <span class="token operator">%</span>s

In <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token operator">%</span>largest t
total <span class="token number">32</span>
 <span class="token number">8</span> update_chis<span class="token punctuation">.</span>sh
 <span class="token number">8</span> test<span class="token punctuation">.</span>py
 <span class="token number">0</span> delete_server_log<span class="token punctuation">.</span>py

<span class="token comment" spellcheck="true"># 设置的别名可以存储起来</span>
In <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">:</span> store largest
Alias stored<span class="token punctuation">:</span> largest <span class="token punctuation">(</span>ls <span class="token operator">-</span>1sSh <span class="token operator">|</span> grep <span class="token operator">%</span>s<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 可以设置书签</span>
In <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">:</span> bookmark root <span class="token operator">/</span>Users<span class="token operator">/</span>escape

In <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">:</span> cd root
<span class="token punctuation">(</span>bookmark<span class="token punctuation">:</span>root<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token operator">/</span>Users<span class="token operator">/</span>escape
<span class="token operator">/</span>Users<span class="token operator">/</span>escape

In <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">:</span> pwd
Out<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token string">'/Users/escape'</span>

In <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">:</span> save hist<span class="token punctuation">.</span>py <span class="token number">3</span><span class="token punctuation">:</span><span class="token number">5</span>
The following commands were written to file `hist<span class="token punctuation">.</span>py`<span class="token punctuation">:</span>
sotre largest
sotre <span class="token operator">%</span>larg
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 重新进入IPython的环境，重载之前保存的别名</span>
In <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> store <span class="token operator">-</span>r

In <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span> largest t
total <span class="token number">32</span>
 <span class="token number">8</span> update_chis<span class="token punctuation">.</span>sh
 <span class="token number">8</span> test<span class="token punctuation">.</span>py
 <span class="token number">0</span> delete_server_log<span class="token punctuation">.</span>py
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h2 id="8-打开调试模式"><a href="#8-打开调试模式" class="headerlink" title="8. 打开调试模式"></a>8. 打开调试模式</h2><ul>
<li><code>IPython</code>提供了一个<code>Python debugger</code>的接口。在自动<code>pdb</code>呼叫启用的情况下，当<code>Python</code>遇到一个未处理的异常时<code>Python debugger</code>就会自动启动。</li>
<li><code>IPython</code>的作者说有时候当他需要在某行代码处<code>debug</code>时，他会在开始<code>debug</code>的地方放一个表达式<code>1/0</code>。启用<code>pdb</code>，在<code>IPython</code>中运行代码。当解释器处理到<code>1/0</code>那一行时，就会产生一个 <code>ZeroDivisionError</code>异常，然后他就在指定的代码处被带到一个<code>debugging session</code>中了。</li>
</ul>
<pre class="line-numbers language-python"><code class="language-python">In <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> a <span class="token operator">=</span> <span class="token number">1</span>

In <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span> b <span class="token operator">=</span> <span class="token number">0</span>

In <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span> a <span class="token operator">/</span> b
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
ZeroDivisionError                         Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span>
<span class="token operator">&lt;</span>ipython<span class="token operator">-</span>input<span class="token number">-3</span><span class="token operator">-</span>d8e10abd5ab6<span class="token operator">></span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">></span> <span class="token number">1</span> a <span class="token operator">/</span> b

ZeroDivisionError<span class="token punctuation">:</span> division by zero

In <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">:</span> debug
<span class="token operator">></span> <span class="token operator">&lt;</span>ipython<span class="token operator">-</span>input<span class="token number">-3</span><span class="token operator">-</span>d8e10abd5ab6<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>module<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">></span> <span class="token number">1</span> a <span class="token operator">/</span> b

ipdb<span class="token operator">></span> p a
<span class="token number">1</span>
ipdb<span class="token operator">></span> p b
<span class="token number">0</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h2 id="9-执行程序代码"><a href="#9-执行程序代码" class="headerlink" title="9. 执行程序代码"></a>9. 执行程序代码</h2><ul>
<li>执行程序代码可以使用如下方式：<strong>run &lt;源文件&gt; &lt;运行源文件所需参数&gt;</strong></li>
</ul>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># [-n]参数</span>
阻止运行源文件代码时__name__变量被设为”__main__”。
这会防止<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>块中的代码被执行

<span class="token comment" spellcheck="true"># [-i]参数</span>
源文件就在当前IPython的名字空间下运行而不是在一个新的名字空间中。
如果你需要源代码可以使用在交互式session中定义的变量就会很有用。

<span class="token comment" spellcheck="true"># [-p]参数</span>
使用Python的profiler模块运行并分析源代码。
使用该选项代码不会运行在当前名字空间。
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">In <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">:</span> load hist<span class="token punctuation">.</span>py

In <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># %load hist.py</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span> sotre largest
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span> sotre <span class="token operator">%</span>largest
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span>

In <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">:</span> run hist<span class="token punctuation">.</span>py
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h2 id="10-用户会话保持"><a href="#10-用户会话保持" class="headerlink" title="10. 用户会话保持"></a>10. 用户会话保持</h2><ul>
<li>用户会话保持，也可以称为会话保持</li>
</ul>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 打开日志记录或用户会话保持</span>
In <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token operator">%</span>logstate
Logging has <span class="token operator">not</span> been activated<span class="token punctuation">.</span>

In <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token operator">%</span>logstart
Activating auto<span class="token operator">-</span>logging<span class="token punctuation">.</span> Current session state plus future input saved<span class="token punctuation">.</span>
Filename       <span class="token punctuation">:</span> ipython_log<span class="token punctuation">.</span>py
Mode           <span class="token punctuation">:</span> rotate
Output logging <span class="token punctuation">:</span> <span class="token boolean">False</span>
Raw input log  <span class="token punctuation">:</span> <span class="token boolean">False</span>
Timestamping   <span class="token punctuation">:</span> <span class="token boolean">False</span>
State          <span class="token punctuation">:</span> active

In <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span> a <span class="token operator">=</span> <span class="token number">1</span>

In <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">:</span> b <span class="token operator">=</span> <span class="token number">2</span>

In <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">:</span> c <span class="token operator">=</span> <span class="token number">3</span>

In <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token operator">%</span>logoff
Switching logging OFF
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 重新打开IPython工具，之前定义的参数仍然可以使用</span>
<span class="token punctuation">[</span>escape@localhost <span class="token operator">~</span><span class="token punctuation">]</span>$ ipython <span class="token operator">-</span>i ipython_log<span class="token punctuation">.</span>py
Python <span class="token number">3.6</span><span class="token punctuation">.</span><span class="token number">4</span> <span class="token punctuation">(</span>default<span class="token punctuation">,</span> Mar <span class="token number">28</span> <span class="token number">2018</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">:</span><span class="token number">01</span><span class="token punctuation">:</span><span class="token number">18</span><span class="token punctuation">)</span>
Type <span class="token string">'copyright'</span><span class="token punctuation">,</span> <span class="token string">'credits'</span> <span class="token operator">or</span> <span class="token string">'license'</span> <span class="token keyword">for</span> more information
IPython <span class="token number">6.2</span><span class="token punctuation">.</span><span class="token number">1</span> <span class="token operator">-</span><span class="token operator">-</span> An enhanced Interactive Python<span class="token punctuation">.</span> Type <span class="token string">'?'</span> <span class="token keyword">for</span> help<span class="token punctuation">.</span>
Logging has <span class="token operator">not</span> been activated<span class="token punctuation">.</span>
Activating auto<span class="token operator">-</span>logging<span class="token punctuation">.</span> Current session state plus future input saved<span class="token punctuation">.</span>
Filename       <span class="token punctuation">:</span> ipython_log<span class="token punctuation">.</span>py
Mode           <span class="token punctuation">:</span> rotate
Output logging <span class="token punctuation">:</span> <span class="token boolean">False</span>
Raw input log  <span class="token punctuation">:</span> <span class="token boolean">False</span>
Timestamping   <span class="token punctuation">:</span> <span class="token boolean">False</span>
State          <span class="token punctuation">:</span> active
Switching logging OFF

In <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> a
Out<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token number">1</span>

In <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span> b
Out<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token number">2</span>

In <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span> c
Out<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token number">3</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h2 id="11-用户自定义宏"><a href="#11-用户自定义宏" class="headerlink" title="11. 用户自定义宏"></a>11. 用户自定义宏</h2><ul>
<li>宏允许用户为一段代码定义为一个名字，这样你可以在以后使用这个名字来运行这段代码。就像在<code>magic</code>关键字<code>edit</code>中提到的，列表切片法也适用于宏定义。</li>
</ul>
<pre class="line-numbers language-python"><code class="language-python">In <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>

In <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> l<span class="token punctuation">:</span>
   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span>     <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span>
<span class="token number">1</span>
<span class="token number">2</span>

In <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token operator">%</span>macro print_l <span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span>
Macro `print_l` created<span class="token punctuation">.</span> To execute<span class="token punctuation">,</span> type its name <span class="token punctuation">(</span>without quotes<span class="token punctuation">)</span><span class="token punctuation">.</span>
<span class="token operator">==</span><span class="token operator">=</span> Macro contents<span class="token punctuation">:</span> <span class="token operator">==</span><span class="token operator">=</span>
l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> l<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>


In <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">:</span> print_l
<span class="token number">1</span>
<span class="token number">2</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Escape</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://www.escapelife.site/posts/ff8718c1.html">https://www.escapelife.site/posts/ff8718c1.html</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Escape</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Python/">
                                    <span class="chip bg-color">Python</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/posts/9b9eee24.html">
                    <div class="card-image">
                        
                        <img src="/images/ipython-bingxing.png" class="responsive-img" alt="IPython并行计算工具">
                        
                        <span class="card-title">IPython并行计算工具</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2018-06-27
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Python%E5%85%A5%E9%97%A8%E5%9F%BA%E7%A1%80/" class="post-category">
                                    Python入门基础
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Python/">
                        <span class="chip bg-color">Python</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/posts/f26f0748.html">
                    <div class="card-image">
                        
                        <img src="/images/python-debug.png" class="responsive-img" alt="Python调试方法简介">
                        
                        <span class="card-title">Python调试方法简介</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2018-06-25
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Python%E5%85%A5%E9%97%A8%E5%9F%BA%E7%A1%80/" class="post-category">
                                    Python入门基础
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Python/">
                        <span class="chip bg-color">Python</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('4'),
            headingSelector: 'h2, h3, h4, h5'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4, h5').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="764454432"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='none'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    

    <div class="container row center-align"
         style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2017-2022</span>
            
            <span id="year">2017</span>
            <a href="/about" target="_blank">Escape</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
                &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                        class="white-color">1178.1k</span>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
                <span id="sitetime"> Loading ...</span>
                <script>
                    var calcSiteTime = function () {
                        var seconds = 1000;
                        var minutes = seconds * 60;
                        var hours = minutes * 60;
                        var days = hours * 24;
                        var years = days * 365;
                        var today = new Date();
                        var startYear = "2017";
                        var startMonth = "2";
                        var startDate = "14";
                        var startHour = "0";
                        var startMinute = "0";
                        var startSecond = "0";
                        var todayYear = today.getFullYear();
                        var todayMonth = today.getMonth() + 1;
                        var todayDate = today.getDate();
                        var todayHour = today.getHours();
                        var todayMinute = today.getMinutes();
                        var todaySecond = today.getSeconds();
                        var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                        var diff = t2 - t1;
                        var diffYears = Math.floor(diff / years);
                        var diffDays = Math.floor((diff / days) - diffYears * 365);

                        // 区分是否有年份.
                        var language = 'zh-CN';
                        if (startYear === String(todayYear)) {
                            document.getElementById("year").innerHTML = todayYear;
                            var daysTip = 'This site has been running for ' + diffDays + ' days';
                            if (language === 'zh-CN') {
                                daysTip = '本站已运行 ' + diffDays + ' 天';
                            } else if (language === 'zh-HK') {
                                daysTip = '本站已運行 ' + diffDays + ' 天';
                            }
                            document.getElementById("sitetime").innerHTML = daysTip;
                        } else {
                            document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                            var yearsAndDaysTip = 'This site has been running for ' + diffYears + ' years and '
                                + diffDays + ' days';
                            if (language === 'zh-CN') {
                                yearsAndDaysTip = '本站已运行 ' + diffYears + ' 年 ' + diffDays + ' 天';
                            } else if (language === 'zh-HK') {
                                yearsAndDaysTip = '本站已運行 ' + diffYears + ' 年 ' + diffDays + ' 天';
                            }
                            document.getElementById("sitetime").innerHTML = yearsAndDaysTip;
                        }
                    }

                    calcSiteTime();
                </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/EscapeLife" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:wenpanhappy@126.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>













    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    
    <script type="text/javascript" src="/libs/background/ribbon-dynamic.js" async="async"></script>
    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
